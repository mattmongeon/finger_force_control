#include "system.h"

////////////////////////////////////////////////////////////////////////////////
//  File-Local Declarations
////////////////////////////////////////////////////////////////////////////////

// --- Variables --- //

// The current state of the system.
static volatile state_t system_state = IDLE;

////////////////////////////////////////////////////////////////////////////////
//  Interface Functions
////////////////////////////////////////////////////////////////////////////////

state_t system_get_state()
{
	return system_state;
}

////////////////////////////////////////////////////////////////////////////////

void system_set_state(state_t state)
{
	__builtin_disable_interrupts();

	system_state = state;

	__builtin_enable_interrupts();
}

